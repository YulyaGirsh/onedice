# üèÜ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

## üìã –û–±–∑–æ—Ä

–†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ö—É–∫–µ `useGameData` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

**üîÑ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `useGameData()` –Ω–∞–ø—Ä—è–º—É—é, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### 1. `src/hooks/useGameData.ts` - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
```typescript
// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç:
const { playerRating, updatePlayerRating } = useGameData();

// playerRating —Å–æ–¥–µ—Ä–∂–∏—Ç:
{
  rating: 1000,           // –ß–∏—Å–ª–æ–≤–æ–π —Ä–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  ratingTitle: '–°—Ç–∞—Ä—Ç–æ–≤—ã–π' // –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI)
}
```

### 2. `src/components/ProfileHeader/ProfileHeader.tsx` - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–≤–æ–π —Ä–µ–π—Ç–∏–Ω–≥ `1000` –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `useGameData()`

### 3. `src/pages/RatingPage/RatingPage.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `useGameData()`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ `playerRating.rating`

### 4. `src/types/index.ts` - –¢–∏–ø—ã
```typescript
export interface PlayerRating {
  rating: number;
  ratingTitle: string;
}
```

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–í `src/App.tsx` –∏–ª–∏ –ª—é–±–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –¥–æ–±–∞–≤—å—Ç–µ:

```typescript
import { useGameData } from './hooks/useGameData';

function App() {
  const { updatePlayerRating } = useGameData();
  
  useEffect(() => {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å–µ—Ä–≤–µ—Ä–∞
    api.getUserProfile().then(profile => {
      updatePlayerRating(profile.rating, profile.ratingTitle);
    });
  }, []);
}
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –∏–≥—Ä

```typescript
// –í–ê–†–ò–ê–ù–¢ 1: –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
const finishGameAPI = async (gameId) => {
  const result = await api.finishGame(gameId);
  
  // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å —Å–µ—Ä–≤–µ—Ä–∞
  updatePlayerRating(result.newRating, result.newRatingTitle);
  updatePlayerStats(result.gamesPlayed, result.gamesWon);
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  WebApp.showAlert(`–†–µ–π—Ç–∏–Ω–≥: ${result.newRating} (${result.ratingChange >= 0 ? '+' : ''}${result.ratingChange})`);
};

// –í–ê–†–ò–ê–ù–¢ 2: –õ–æ–∫–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞)
const { finishGame } = useGameData();

// –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ 1v1 –∏–≥—Ä—ã
const result = finishGame(isWin); // true –¥–ª—è –ø–æ–±–µ–¥—ã, false –¥–ª—è –ø–æ—Ä–∞–∂–µ–Ω–∏—è

console.log(`–ù–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥: ${result.newRating} (${result.ratingChange >= 0 ? '+' : ''}${result.ratingChange})`);
console.log(`–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥: ${result.newWinRate}%`);
```

### –®–∞–≥ 3: API –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–π—Ç–∏–Ω–≥–∞

–í `src/pages/RatingPage/RatingPage.tsx` –∑–∞–º–µ–Ω–∏—Ç–µ –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å generateMockRatingData() –Ω–∞:
const [topUsers, setTopUsers] = useState([]);
const [userPosition, setUserPosition] = useState(null);

useEffect(() => {
  api.getLeaderboard().then(data => {
    setTopUsers(data.topUsers);
    setUserPosition(data.userPosition);
  });
}, []);
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

### GET /api/profile
```json
{
  "rating": 1250,
  "ratingTitle": "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π",
  "gamesPlayed": 45,
  "gamesWon": 28
}
```

### GET /api/leaderboard
```json
{
  "topUsers": [
    {
      "id": 1,
      "username": "player1",
      "rating": 2500,
      "position": 1
    }
  ],
  "userPosition": {
    "position": 1337,
    "rating": 1250
  }
}
```

### POST /api/game/{id}/finish
```json
{
  "winner": "user123",
  "newRating": 1275,
  "newRatingTitle": "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π",
  "ratingChanged": true,
  "ratingDelta": +25
}
```

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å —Ç–æ–ø–æ–º –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ü–æ–∑–∏—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ **–õ–æ–≥–∏–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ—á–∫–æ–≤: +5 –∑–∞ –ø–æ–±–µ–¥—É, -3 –∑–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏–µ**
- ‚úÖ **–†–µ–π—Ç–∏–Ω–≥ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ 0**
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –ø–æ–±–µ–¥ (0% –µ—Å–ª–∏ –∏–≥—Ä –Ω–µ—Ç)**
- ‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–µ –∑–Ω–∞—á–∫–∏ –¥–ª—è —Ç–æ–ø-3 (–∑–æ–ª–æ—Ç–æ, —Å–µ—Ä–µ–±—Ä–æ, –±—Ä–æ–Ω–∑–∞)**
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram**
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–æ–ø-10**
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ DebugPage**

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å (–±—ç–∫–µ–Ω–¥)

- [ ] API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
- [ ] –õ–æ–≥–∏–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –∏–≥—Ä
- [ ] –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π —Ä–µ–π—Ç–∏–Ω–≥–∞ (–°—Ç–∞—Ä—Ç–æ–≤—ã–π ‚Üí –ù–æ–≤–∏—á–æ–∫ ‚Üí –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π ‚Üí –≠–∫—Å–ø–µ—Ä—Ç ‚Üí –ú–∞—Å—Ç–µ—Ä)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ü—Ä–æ—Ñ–∏–ª—å"** (–≤ –Ω–∏–∂–Ω–µ–º –º–µ–Ω—é)
3. –í —Ä–∞–∑–¥–µ–ª–µ "üèÜ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞" –Ω–∞–∂–∏–º–∞–π—Ç–µ:
   - **"‚úÖ –í—ã–∏–≥—Ä–∞—Ç—å –∏–≥—Ä—É (+5)"** - –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–±–µ–¥—É
   - **"‚ùå –ü—Ä–æ–∏–≥—Ä–∞—Ç—å –∏–≥—Ä—É (-3)"** - –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ—Ä–∞–∂–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
- –†–µ–π—Ç–∏–Ω–≥ (—Å –ª–æ–≥–∏–∫–æ–π +5/-3)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä  
- –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥
- –ü–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ (–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–†–µ–π—Ç–∏–Ω–≥")

**üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram:** –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (`HapticFeedback`) –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ê–Ω–∏–º–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å +/-25 –æ—á–∫–æ–≤
2. **–ò—Å—Ç–æ—Ä–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞** - –≥—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥
3. **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è** - –±–µ–π–¥–∂–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏
4. **–°–µ–∑–æ–Ω–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏** - –æ–±–Ω—É–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü
5. **–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∏–≥—Ä** - —Ä–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—á–∫–æ–≤ –¥–ª—è –ª–æ–±–±–∏ vs 1v1